!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=102)}([,,function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(15),i=n(33),a=Object.prototype.toString;function s(e){return"[object Array]"===a.call(e)}function u(e){return null!==e&&"object"===(void 0===e?"undefined":r(e))}function l(e){return"[object Function]"===a.call(e)}function c(e,t){if(null!=e)if("object"!==(void 0===e?"undefined":r(e))&&(e=[e]),s(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:i,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:u,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:l,isStream:function(e){return u(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function n(n,o){"object"===r(t[o])&&"object"===(void 0===n?"undefined":r(n))?t[o]=e(t[o],n):t[o]=n}for(var o=0,i=arguments.length;o<i;o++)c(arguments[o],n);return t},extend:function(e,t,n){return c(t,(function(t,r){e[r]=n&&"function"==typeof t?o(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGBObjName=s,t.getGBObjNameOld=u,t.init=function(e){if(null===o){var t=s(i=e);o={},a()[t]=o}},t.hasAttr=function(e){return void 0!==l()[e]},t.setAttr=function(e,t){l()[e]=t},t.getAttr=function(e){return l()[e]},t.getEnvType=function(){return i},t.gbAttrNames={config:"config",stat:"stat",platformInfo:"platformInfo",innerQuickLogin:"innerQuickLogin",clientFeatureApi:"clientFeatureApi"};var r=t.gbEnvTypes={insideIframe:"insideIframe",outsideIframe:"outsideIframe",pluginIndex:"pluginIndex"},o=null,i=void 0;function a(){return window||global}function s(e){var t="";switch(e){case r.insideIframe:case r.outsideIframe:case r.node:t=e;break;default:t="default"}return t+"WebSdkGlobalObject_CA7FFF8A_0F5B_4654_822B_98B9E74F23DD"}function u(e){var t="";switch(e){case r.insideIframe:case r.outsideIframe:case r.node:t=e;break;default:t="default"}return t+"WebSdkGlobalObject-CA7FFF8A-0F5B-4654-822B-98B9E74F23DD"}function l(){if(null===o){var e=a();o=e[s(r.insideIframe)]||e[s(r.outsideIframe)]||e[s(r.pluginIndex)]||e[u(r.insideIframe)]||e[u(r.outsideIframe)]||e[u(r.pluginIndex)]}return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GBHelper=void 0;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6));function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this._attrName=e,this._target=void 0}t.GBHelper=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(i,[{key:"getTarget",value:function(){return void 0===this._target&&(o.hasAttr(this._attrName)?this._target=o.getAttr(this._attrName):this.setTarget({})),this._target}},{key:"setTarget",value:function(e){o.setAttr(this._attrName,e),this._target=o.getAttr(this._attrName)}},{key:"hasAttr",value:function(e){return void 0!==this.getTarget()[e]}},{key:"setAttr",value:function(e,t){this.getTarget()[e]=t}},{key:"getAttr",value:function(e){return this.getTarget()[e]}}]),i)},function(e,t,n){"use strict";var r=n(2),o=n(36),i=n(38),a=n(39),s=n(40),u=n(16);e.exports=function(e){return new Promise((function(t,l){var c=e.data,f=e.headers;r.isFormData(c)&&delete f["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",g=e.auth.password||"";f.Authorization="Basic "+btoa(p+":"+g)}if(d.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:e,request:d};o(t,l,r),d=null}},d.onerror=function(){l(u("Network Error",e,null,d)),d=null},d.ontimeout=function(){l(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var v=n(41),m=(e.withCredentials||s(e.url))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;m&&(f[e.xsrfHeaderName]=m)}if("setRequestHeader"in d&&r.forEach(f,(function(e,t){void 0===c&&"content-type"===t.toLowerCase()?delete f[t]:d.setRequestHeader(t,e)})),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(p){if("json"!==e.responseType)throw p}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),l(e),d=null)})),void 0===c&&(c=null),d.send(c)}))}},,function(e,t,n){"use strict";var r=n(2),o=n(35),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,u={adapter:("undefined"==typeof XMLHttpRequest&&"undefined"==typeof process||(s=n(8)),s),transformRequest:[function(e,t){return o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return 200<=e&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(i)})),e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";do{if(null==e)break;switch(void 0===e?"undefined":r(e)){case"string":t=e;break;case"number":case"boolean":t=e.toString()}}while(0);return t}t.forceToString=o,t.forceJsonSimpleValueToString=function e(t){var n={};do{if(null==t){n={};break}switch(void 0===t?"undefined":r(t)){case"object":for(var i in t)n[i]=e(t[i]);break;case"string":case"number":case"boolean":n=o(t,"")}}while(0);return n},t.combineJsonObject=function e(t,n){return function(t,n){var o=t;for(var i in n){var a=n[i];if("object"===(void 0===a?"undefined":r(a))){var s=o[i];o[i]=null==s?a:e(o[i],a)}else void 0!==a&&(o[i]=a)}return o}(JSON.parse(JSON.stringify(t)),JSON.parse(JSON.stringify(n)))},t.dateToTimeString=function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+"."+e.getMilliseconds()},t.parseJson=function(e){var t=null;try{t=JSON.parse(e)}catch(e){t=null}return t},t.stringifyJson=function(e){var t=void 0;try{t=JSON.stringify(e)}catch(e){t=void 0}return t}},,,,function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(37);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gbAttrNames={otherInfo:"otherInfo",platformInfo:"platformInfo"},t.gbOtherInfoAttrNames={showLoginWndSource:"showLoginWndSource"},t.gbPlatformInfoAttrNames={deviceSign:"deviceSign"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonitorStatServer=t.businessFlowKeys=t.monitorStatActions=void 0;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(29),i=t.monitorStatActions={request:"request",pagePerformance:"pagePerformance",businessFlow:"businessFlow",initEnv:"initEnv"};function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this._statServer=new o.StatServer(e,"websdk-monitor2")}t.businessFlowKeys={loadLoginPluginFile:"loadLoginPluginFile",loadLoginPlugin:"loadLoginPlugin",openLoginWnd:"openLoginWnd",initLoginWnd:"initLoginWnd",closeLoginWnd:"closeLoginWnd"},t.MonitorStatServer=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(a,[{key:"setPublicData",value:function(e){return this._statServer.setPublicData(e)}},{key:"stat",value:function(e){return this._statServer.stat(e)}},{key:"statRequest",value:function(e){var t={type:i.request,extData1:e};return this.stat(t)}},{key:"statPagePerformance",value:function(e){var t={type:i.pagePerformance,extData2:e};return this.stat(t)}},{key:"statBusinessFlow",value:function(e){var t={type:i.businessFlow,extData3:e};return this.stat(t)}},{key:"statInitEnv",value:function(e){var t={type:i.initEnv,extData4:e};return this.stat(t)}}]),a)},function(e,t){e.exports=require("electron")},function(e,t,n){"use strict";e.exports=n(32)},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(50),o=n(51),i=(a.prototype.get=function(){return this.requestServer},a);function a(){this.requestServer=null,this.requestServer=new r.RequestServer(new o.HttpRequest)}t.RequestServerLoader=i,t.requestServerLoader=new i},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gbConfig=void 0;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(6),i=n(7),a="sdkVersion",s="appId",u="appName",l="hostCategoryAppName",c="appVersion",f="analysisServer",d="syncPC",p="clientFeature",g=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(v,[{key:"setSDKVersion",value:function(e){var t="string"==typeof e?e:"";this._gbHelper.setAttr(a,t)}},{key:"getSDKVersion",value:function(){return this._gbHelper.getAttr(a)}},{key:"setAppId",value:function(e){var t="string"==typeof e?e:"";this._gbHelper.setAttr(s,t)}},{key:"getAppId",value:function(){return this._gbHelper.getAttr(s)}},{key:"setAppName",value:function(e){var t="string"==typeof e?e:"";this._gbHelper.setAttr(u,t)}},{key:"getAppName",value:function(){return this._gbHelper.getAttr(u)}},{key:"setHostCategoryAppName",value:function(e){var t="string"==typeof e?e:"";this._gbHelper.setAttr(l,t)}},{key:"getHostCategoryAppName",value:function(){return this._gbHelper.getAttr(l)}},{key:"setAppVersion",value:function(e){var t="string"==typeof e&&0<e.length?e:"NONE";this._gbHelper.setAttr(c,t)}},{key:"getAppVersion",value:function(){return this._gbHelper.getAttr(c)}},{key:"setHL",value:function(e){var t="string"==typeof e?e:"";this._gbHelper.setAttr("hL",t)}},{key:"getHL",value:function(){return this._gbHelper.getAttr("hL")}},{key:"setAnalysisServer",value:function(e){var t=e;this._gbHelper.setAttr(f,t)}},{key:"getAnalysisServer",value:function(){return this._gbHelper.getAttr(f)}},{key:"setSyncPC",value:function(e){var t=!0===e;this._gbHelper.setAttr(d,t)}},{key:"getSyncPC",value:function(){return this._gbHelper.getAttr(d)}},{key:"setClientFeature",value:function(e){var t=!0===e;this._gbHelper.setAttr(p,t)}},{key:"getClientFeature",value:function(){return this._gbHelper.getAttr(p)}}]),v);function v(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),this._gbHelper=new i.GBHelper(o.gbAttrNames.config)}t.gbConfig=new g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatServer=void 0;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(11),i=n(26),a=n(53),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6));function u(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),this._topic=t,this._preUrl=(e||"https://xluser-test-ssl.n0808.com")+"/analysis-report/v1/"+t+"?msg=",this._needEncrypt=!!n,this._requestServer=i.requestServerLoader.get(),this._publicData={}}t.StatServer=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(u,[{key:"_report",value:function(e){var t,n=JSON.stringify(e),r=a.base64ServerLoader.get().encode(n),o=(r=(r=r.replace(/\+/g,"-")).replace(/\//g,"_")).length,i=0;2<=o&&"="===r.charAt(o-1)&&(i="="===r.charAt(o-2)?2:1),t=r.substr(0,o-i);var u=this._preUrl+t,l=!0;if(s.getEnvType()!==s.gbEnvTypes.pluginIndex){var c=c||parent.xdas;c&&"function"==typeof c.fireStatEvent&&(l=!1,c.fireStatEvent(u))}l&&this._requestServer.get(u,null,null,null).catch((function(e){}))}},{key:"setPublicData",value:function(e){this._publicData=e}},{key:"stat",value:function(e){var t=e||{},n=(0,o.combineJsonObject)({reportTime:(0,o.dateToTimeString)(new Date)},this._publicData);n=(0,o.combineJsonObject)(n,t),this._report(n)}}]),u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gbStat=t.gbStatAttrNames=void 0;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(6),i=n(7);t.gbStatAttrNames={monitor:"monitor",userBehaviors:"userBehaviors"};var a=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(s,[{key:"hasAttr",value:function(e){return this._gbHelper.hasAttr(e)}},{key:"setAttr",value:function(e,t){this._gbHelper.setAttr(e,t)}},{key:"getAttr",value:function(e){return this._gbHelper.getAttr(e)}}]),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this._gbHelper=new i.GBHelper(o.gbAttrNames.stat)}t.gbStat=new a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),o=n(7),i=n(28),a=new o.GBHelper(r.gbAttrNames.platformInfo);t.getPublicData=function(){return{appId:i.gbConfig.getAppId(),appName:i.gbConfig.getAppName(),appVersion:i.gbConfig.getAppVersion(),deviceSign:a.getAttr(r.gbPlatformInfoAttrNames.deviceSign),sdkVersion:i.gbConfig.getSDKVersion(),platform:"PC"}},t.getStatServerUrl=function(){return"https://analysis-acc-ssl.xunlei.com"}},function(e,t,n){"use strict";var r=n(2),o=n(15),i=n(34),a=n(10);function s(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var u=s(a);u.Axios=i,u.create=function(e){return s(r.merge(a,e))},u.Cancel=n(18),u.CancelToken=n(47),u.isCancel=n(17),u.all=function(e){return Promise.all(e)},u.spread=n(48),e.exports=u,e.exports.default=u},function(e,t,n){"use strict";e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";var r=n(10),o=n(2),i=n(42),a=n(43);function s(e){this.defaults=e,this.interceptors={request:new i,response:new i}}s.prototype.request=function(e,t){"string"==typeof e&&(e=o.merge({url:arguments[0]},t)),(e=o.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var n=[a,void 0],i=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){n.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){n.push(e.fulfilled,e.rejected)}));n.length;)i=i.then(n.shift(),n.shift());return i},o.forEach(["delete","get","head","options"],(function(e){s.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}})),o.forEach(["post","put","patch"],(function(e){s.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}})),e.exports=s},function(e,t,n){"use strict";var r=n(2);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(16);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e}},function(e,t,n){"use strict";var r=n(2);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,n){"use strict";var r=n(2),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e&&r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&0<=o.indexOf(t))return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a}},function(e,t,n){"use strict";var r,o,i,a=n(2);function s(e){var t=e;return o&&(i.setAttribute("href",t),t=i.href),i.setAttribute("href",t),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}e.exports=a.isStandardBrowserEnv()?(o=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),r=s(window.location.href),function(e){var t=a.isString(e)?s(e):e;return t.protocol===r.protocol&&t.host===r.host}):function(){return!0}},function(e,t,n){"use strict";var r=n(2);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(2);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,n){"use strict";var r=n(2),o=n(44),i=n(17),a=n(10),s=n(45),u=n(46);function l(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return l(e),e.baseURL&&!s(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return l(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(l(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(2);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(18);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,t){return t>e.length?new Array(t-e.length+1).join("0")+e:e}Object.defineProperty(t,"__esModule",{value:!0}),t.dateToDateString=function(e){return e.getFullYear().toString()+o((e.getMonth()+1).toString(),2)+o(e.getDate().toString(),2)},t.parseJson=function(e){var t=null;try{t=JSON.parse(e)}catch(e){t=null}return t},t.stringifyJson=function(e){var t=void 0;try{t=JSON.stringify(e)}catch(e){t=void 0}return t},t.forceGetTypeValue=function(e,t,n){return(void 0===t?"undefined":r(t))===e?t:n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this._requester=e}t.RequestServer=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(o,[{key:"get",value:function(e,t,n,r){return this._request("GET",e,t,n,r)}},{key:"post",value:function(e,t,n,r){return this._request("POST",e,t,n,r)}},{key:"_request",value:function(e,t,n,r,o){var i=this;return new Promise((function(a,s){var u=t,l=null,c=o||{};"GET"===e?r&&(u+=i._toUrlParams(r)):l=c.stringifyJsonDatas?JSON.stringify(r):r,i._requester[e.toLocaleLowerCase()](u,n,l).then((function(e){var t=e;if(c.parseJsonResult&&"string"==typeof e.data)try{t.data=JSON.parse(e.data)}catch(e){s(e)}a(t)})).catch((function(e){s(e)}))}))}},{key:"_toUrlParams",value:function(e){var t="";if(e){var n=[];for(var r in e)n.push(r+"="+e[r]);t=n.join("&")}return t}}]),o)},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(23));o.default.defaults.adapter=n(8);var i=(a.prototype.get=function(e,t,n){return void 0===n&&(n=null),this._request("GET",e,t,null)},a.prototype.post=function(e,t,n){return this._request("POST",e,t,n)},a.prototype._request=function(e,t,n,r){return void 0===r&&(r=null),new Promise((function(i,a){var s={method:e,url:t,headers:n,data:r};o.default(s).then((function(e){var t={data:e.data,status:e.status};i(t)})).catch((function(e){a(e)}))}))},a);function a(){}t.HttpRequest=i},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(o.prototype.encode=function(e){return new Buffer(e).toString("base64")},o);function o(){}var i=(a.prototype.get=function(){return this.base64Server},a);function a(){this.base64Server=null,this.base64Server=new r}t.Base64ServerLoader=i,t.base64ServerLoader=new i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30),o=n(31),i=n(21),a=(s.prototype.setPublicData=function(){this.get().setPublicData(o.getPublicData())},s.prototype.get=function(){if(null===this.monitorStatServer){var e=r.gbStatAttrNames.monitor;if(!r.gbStat.hasAttr(e)){var t=new i.MonitorStatServer(o.getStatServerUrl());r.gbStat.setAttr(e,t)}this.monitorStatServer=r.gbStat.getAttr(e)}return this.monitorStatServer},s);function s(){this.monitorStatServer=null,this.monitorStatServer=null}t.MonitorStatServerLoader=a,t.monitorStatServerLoader=new a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(22),i=n(56),a=n(57),s=n(58);!function(e){e.mainProcessContext="main-process",e.mainRendererContext="main-renderer",e.mainPageWebviewRendererContext="main-page-webview-renderer",e.newTaskRendererContext="new-task-renderer",e.preNewTaskRendererContext="pre-new-task-renderer",e.loginRendererContext="login-renderer";var t=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(n,[{key:"onMessage",value:function(e,t){do{if(!i.isString(e)||0===e.length){a.error("msgName is null");break}if(i.isNullOrUndefined(t)){a.error("listener is null");break}this.listeners.has(e)?this.listeners.get(e).push(t):this.listeners.set(e,[t])}while(0)}},{key:"getCommunicatorInfo",value:function(){return this.currInfo}},{key:"getAllRenderer",value:function(){return this.rendererInfos}},{key:"getCommunicatorInfoById",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=this.rendererInfos[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(a.id===e)return a}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return null}},{key:"getCommunicatorInfoByContext",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=this.rendererInfos[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(a.context===e)return a}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return null}},{key:"startListenIPCMessage",value:function(e){this.isOnIPCEvent||(this.isOnIPCEvent=!0,e&&this.ListenSendToMainMsg(),this.ListenSendToRendererMsg(e))}},{key:"ListenSendToMainMsg",value:function(){var e=this;o.ipcMain.on(s.CommonIPCMessage.msgIPCSendToMain,(function(t,n){var r=void 0;do{if(i.isNullOrUndefined(n)){a.error("msgInfo is empty");break}if(!e.isConnected){a.warning("hasnot been connected yet");break}var o=n.msg.name;if(e.isIPCModuleIntervalMsg(o)){a.information("IPC module interval msg : "+o);var s=e.handleIPCModuleIntervalMsg(t.sender,n);if(r=s[1],!s[0])break;a.information("need to dispatch msg:"+o)}i.isNullOrUndefined(r)?r=e.NotifyListener(n):e.NotifyListener(n)}while(0);i.isNullOrUndefined(r)||(t.returnValue=r),n=null}))}},{key:"ListenSendToRendererMsg",value:function(e){var t=this;(e?o.ipcMain:o.ipcRenderer).on(s.CommonIPCMessage.msgIPCSendToRenderer,(function(n,r){var o=void 0;do{if(i.isNullOrUndefined(r)){a.error("msgInfo is empty");break}if(!t.isConnected){a.warning("hasnot been connected yet");break}var s=r.msg.name;if(t.isIPCModuleIntervalMsg(s)){a.information("IPC module interval msg : "+s);var u=t.handleIPCModuleIntervalMsg(n.sender,r);if(o=u[1],!u[0])break;a.information("need to dispatch msg:"+s)}e?(a.information("is main, handle forward msg"),t.handleForwardRendererToRendererMsg(r)):(a.information("is renderer, handle business msg"),i.isNullOrUndefined(o)?o=t.NotifyListener(r):t.NotifyListener(r))}while(0);i.isNullOrUndefined(o)||(n.returnValue=o),r=null}))}},{key:"isIPCModuleIntervalMsg",value:function(e){var t=!0,r=!1,o=void 0;try{for(var i,a=n.intervalIPCModuleMsgs[Symbol.iterator]();!(t=(i=a.next()).done);t=!0)if(e===i.value)return!0}catch(e){r=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw o}}return!1}},{key:"handleIPCModuleIntervalMsg",value:function(e,t){var n=[!1,void 0];do{var r=t.msg.name;if(r===s.CommonIPCMessage.msgIPCRendererConnect){n=[!0,this.handleRendererConnectMsg(e,t)];break}if(r===s.CommonIPCMessage.msgIPCRendererDisconnect){n=[!0,this.handleRendererDisconnectMsg(e,t)];break}}while(0);return n}},{key:"handleRendererConnectMsg",value:function(e,t){a.verbose(e),a.verbose(t)}},{key:"handleRendererDisconnectMsg",value:function(e,t){a.verbose(e),a.verbose(t)}},{key:"handleForwardRendererToRendererMsg",value:function(e){this.sendForwardRendererToRendererMsg(e)}},{key:"sendForwardRendererToRendererMsg",value:function(e){a.verbose(e)}},{key:"NotifyListener",value:function(e){var t=void 0,n=e.msg.name;if(this.listeners.has(n)){var r=this.listeners.get(n),o=!0,i=!0,a=!1,s=void 0;try{for(var u,l=r[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var c=u.value;o?(o=!1,t=c(e)):c(e)}}catch(e){a=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw s}}}return t}}]),n);function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.isConnected=!1,this.isOnIPCEvent=!1,this.rendererInfos=[],this.listeners=new Map,n.intervalIPCModuleMsgs=[s.CommonIPCMessage.msgIPCRendererConnect,s.CommonIPCMessage.msgIPCRendererDisconnect]}e.Communicator=t}(t.CommonIPCBase||(t.CommonIPCBase={}))},function(e,t){e.exports=require("util")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.information=function(){},t.error=function(){},t.warning=function(){},t.critical=function(){},t.verbose=function(){},"development"===process.env.LOGGER_ENV&&(t.information=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n]},t.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n]},t.warning=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n]},t.critical=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n]},t.verbose=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n]})},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.CommonIPCMessage||(t.CommonIPCMessage={})).msgIPCCommunicatorForward="ipc_communicator_forward",r.msgIPCSendToMain="ipc_send_to_main",r.msgIPCSendToRenderer="ipc_send_to_renderer",r.msgIPCRendererConnect="ipc_renderer_connect",r.msgIPCRendererDisconnect="ipc_renderer_disconnect",r.msgNCCallNativeFunction="nc_call_native_function",r.msgNCCheckNativeFunction="nc_check_native_function",r.msgNCCallJsFunctionById="nc_call_js_function_by_id",r.msgNCCallJsFunctionByName="nc_call_js_function_by_name",r.msgNCNativeFireEvent="nc_native_fire_event",r.msgNCNativeCallReady="nc_native_call_ready"},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(22),s=n(56),u=n(57),l=n(58),c=n(55);function f(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this))}o=t.CommonIPCRenderer||(t.CommonIPCRenderer={}),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,c.CommonIPCBase.Communicator),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(f,[{key:"initialize",value:function(e){this.currInfo={id:void 0,context:e,isMainCommunicator:!1}}},{key:"connect",value:function(){this.isConnected?u.warning("has been connected"):(this.sendConnectMsgToMain(),this.isConnected=!0,this.startListenIPCMessage(!1))}},{key:"disconnect",value:function(){this.isConnected?(this.isConnected=!1,this.sendDisconnectMsgToMain()):u.warning("hasnot been connected yet")}},{key:"sendMessageToMain",value:function(e){this.sendIPCMsgToMain(e)}},{key:"sendMessageToMainSync",value:function(e){return this.sendIPCMsgToMain(e,!0)}},{key:"sendMessageToRenderer",value:function(e,t){this.sendIPCMsgToRenderer(e,t)}},{key:"handleRendererConnectMsg",value:function(e,t){do{if(s.isNullOrUndefined(t)){u.error("msgInfo is null");break}var n=t.msg.args[0];if(s.isNullOrUndefined(n)){u.error("connectRendererInfo is null");break}u.information("Renderer: new renderer will connect, id = "+n.id+", context = "+n.context),this.rendererInfos.push(n)}while(0)}},{key:"handleRendererDisconnectMsg",value:function(e,t){do{if(s.isNullOrUndefined(t)){u.error("msgInfo is null");break}var n=t.msg.args[0];if(s.isNullOrUndefined(n)){u.error("disconnectRendererInfo is null");break}u.information("renderer will disconnect, id = "+n.id+", context = "+n.context);for(var r=0;r<this.rendererInfos.length;++r)if(this.rendererInfos[r]===n){this.rendererInfos.splice(r,1);break}}while(0)}},{key:"sendConnectMsgToMain",value:function(){var e=this.sendMessageToMainSync({name:l.CommonIPCMessage.msgIPCRendererConnect,args:[]});this.currInfo.id=e[0],this.rendererInfos=e[1]}},{key:"sendDisconnectMsgToMain",value:function(){this.sendMessageToMain({name:l.CommonIPCMessage.msgIPCRendererDisconnect,args:[]})}},{key:"sendIPCMsgToMain",value:function(e,t){var n=1<arguments.length&&void 0!==t&&t,r=void 0;do{if(s.isNullOrUndefined(e)){u.error("msg is null");break}r=(n?a.ipcRenderer.sendSync:a.ipcRenderer.send)(l.CommonIPCMessage.msgIPCSendToMain,{msg:e,senderInfo:this.currInfo})}while(0);return r}},{key:"sendIPCMsgToRenderer",value:function(e,t){do{if(s.isNullOrUndefined(e)){u.error("rendererId is null");break}if(s.isNullOrUndefined(t)){u.error("msg is null");break}var n=[e].concat(t.args);t.args=n,a.ipcRenderer.send(l.CommonIPCMessage.msgIPCSendToRenderer,{msg:t,senderInfo:this.currInfo})}while(0)}}]),i=f,o.RendererCommunicator=i,o.rendererCommunicator=new i},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(55),i=n(84);i.CommonIPCRenderer.rendererCommunicator.initialize(o.CommonIPCBase.loginRendererContext),i.CommonIPCRenderer.rendererCommunicator.connect();var a=n(103),s=n(22),u=n(49),l=n(20),c=n(7),f=n(21),d=n(54),p=d.monitorStatServerLoader.get();d.monitorStatServerLoader.setPublicData(),p.statBusinessFlow({key:f.businessFlowKeys.openLoginWnd}),window.addEventListener("keyup",(function(e){var t;"F12"===e.key&&null!==(t=s.remote.getCurrentWindow())&&(t.webContents.isDevToolsOpened()?t.webContents.closeDevTools():t.webContents.openDevTools({mode:"undocked"}))}),!0);var g=window.xlQuickLogin||{},v=window.store||{},m=!1,h=!1;function y(){this.loginTYPE=0,this.userinfo={},this.allUserInfo={},this.isGetFail=!1,this.isRuning=!1,this.reportPerformanceIntervalId=void 0,this.getInitConf(),this.bindXdas()}var b=new(y.prototype.getInitConf=function(){var e=this;e.getXdasDatas("memory","initconfig",(function(t){e.getXdasDatas("memory","showLoginWndAction",(function(n){var r="";n&&(r="string"==typeof n.from?n.from:""),v.set("showLoginWndSource",r),null!==t&&e.getXdasDatas("memory","deviceid",(function(n){n&&(v.set("deviceid",n.id),new c.GBHelper(l.gbAttrNames.platformInfo).setAttr(l.gbPlatformInfoAttrNames.deviceSign,u.forceGetTypeValue("string",n.id,""))),window.Xreport.push({type:"conf",global:{category:"xdas_bugs",clientVersion:t.clientVersion||"unknown"}});var r=t.activityEnable&&t.activityCssPath||"./theme/xlx/css/style.css";g.init({loginID:t.appid+"",appName:t.package,registerID:t.appid+"",APP_VERSION:t.clientVersion,UI_THEME:"xlx",UI_STYLE:r,LOGIN_TYPES:t.loginTypes,REGISTER_TYPES:t.registerTypes,THIRD_LOGIN_DEFAULT:t.thirdLoginDefault,THIRD_LOGIN_GROUP:t.thirdLoginGroup,LOGIN_SUCCESS_URL:"",REGISTER_SUCCESS_URL:"",UI_TEXT:t.uiText,static_domain:"i.xunlei.com",server_login:["xluser-ssl.xunlei.com","xluser2-ssl.xunlei.com","xluser3-ssl.xunlei.com"],MESSAGE_CHANNEL_GSLB_QURERY_HOST_KEY:"agw-acc-ssl.xunlei.com",MESSAGE_CHANNEL_SERVER:"agw-acc-web-ssl.xunlei.com",ANALYSIS_SERVER:"analysis-acc-ssl.xunlei.com",defualt_background:""}),d.monitorStatServerLoader.setPublicData(),p.statBusinessFlow({key:f.businessFlowKeys.initLoginWnd}),e.setLoginBox(),e.reportPerformance(),v.set("clientVersion",t.clientVersion)}))}))}))},y.prototype.setLoginBox=function(){this.loginIframe(),this.checkIsOut()},y.prototype.reportPerformance=function(){var e=this;this.reportPerformanceIntervalId=setInterval((function(){if(window&&window.performance&&window.performance.timing){var t=window.performance.timing,n=t.loadEventEnd-t.navigationStart;if(0<=n){clearInterval(e.reportPerformanceIntervalId),e.reportPerformanceIntervalId=void 0;var r=t.fetchStart-t.navigationStart,o=t.domainLookupEnd-t.domainLookupStart,i=t.connectEnd-t.connectStart,a=t.responseStart-t.requestStart,s=t.responseEnd-t.requestStart,u=t.domComplete-t.domLoading;window.Xreport.push({type:"now",data:{action:"performance",category:"xdas_bugs",bussiness:"0",loadTime:n,beforeFetchTime:r,dominLookupTime:o,connectTime:i,firstResponseTime:a,responseTime:s,domTime:u}}),p.statPagePerformance({from:"outsideIframe",loadTime:n,beforeFetchTime:r,dominLookupTime:o,connectTime:i,firstResponseTime:a,responseTime:s,domTime:u})}}}),100)},y.prototype.checkIsOut=function(){var e=this;e.getXdasDatas("memory","userinfo",(function(t){if(t&&"sessionOut"==t.type){var n=t;n.type="",e.saveToXdas("memory","userinfo",JSON.stringify(n)),setTimeout((function(){e.showError("您的帐号已在其他设备登录，请注意帐号安全")}),1e3)}!t||"thirdFail"!=t.loginType&&"autoLoginFail"!=t.loginType||(e.saveToXdas("memory","userinfo",JSON.stringify({})),setTimeout((function(){e.showError(t.errmsg)}),1e3))}))},y.prototype.loginFetch=function(e){this.loginTYPE=e;var t=v.get("usernick")||"",n=v.get("userid")||"";a.NativeCallModule.nativeCall.CallNativeFunction("NativeFireEvent","onLoginBefore",t,n,(function(e,t){}))},y.prototype.loginFail=function(e,t){a.NativeCallModule.nativeCall.CallNativeFunction("NativeFireEvent","onLoginFailed",t+"",e+"",(function(e,t){}))},y.prototype.getUserIMg=function(e,t){a.NativeCallModule.nativeCall.CallNativeFunction("GetUserHeaderByUserID",e,(function(e,n){t&&t(n)}))},y.prototype.bindXdas=function(){var e=this;window.addEventListener("unload",(function(t){m||e.loginFail("close","close")})),g.setLoginExt(this.loginExtFun.bind(this)),g.getXdasDatas=this.getXdasDatas.bind(this),g.saveToXdas=this.saveToXdas.bind(this),g.cloLogin=this.cloLogin.bind(this),g.openNewTab=this.openNewTab.bind(this),g.setLoginFailExt(this.loginFail.bind(this)),g.loginFetch=this.loginFetch.bind(this),g.onLoginWndClose=this.onLoginWndClose.bind(this),g.getUserImg=this.getUserIMg.bind(this),g.updateLoginWnd=this.updateLoginWnd.bind(this),g.getSkinInfo=this.getSkinInfo.bind(this),g.fireStatEvent=this.fireStatEvent.bind(this),a.NativeCallModule.nativeCall.AttachNativeEvent("OnChangeSkin",(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.getSkinTheme(t[0]);e.changeTheme(r)}))},y.prototype.updateLoginWnd=function(e){h||(h=!0,a.NativeCallModule.nativeCall.CallNativeFunction("UpdateLoginWnd",e))},y.prototype.showError=function(e){void 0===e&&(e=""),g.showError(e)},y.prototype.sendLoginSuc=function(){this.isGetFail=!1,this.onLoginWndClose("suc")},y.prototype.onLoginWndClose=function(e,t){a.NativeCallModule.nativeCall.CallNativeFunction("NativeFireEvent","onLoginWndClose",e,t),p.statBusinessFlow({key:f.businessFlowKeys.closeLoginWnd}),window.close()},y.prototype.loginIframe=function(){document.getElementById("xl_login")&&g.getLoginIframe("xl_login")},y.prototype.loginExtFun=function(e){var t=e;m=!0,t.loginType="0",7==t.LOGIN_TYPE?t.xl_autologin=!0:(t.uName=v.get("uName")||"",t.xl_autologin="1"==v.get("xl_autologin")),this.saveToXdas("memory","userinfo",JSON.stringify(t)),this.sendLoginSuc()},y.prototype.openNewTab=function(e){var t=e||{},n=r({url:t.url,name:"string"==typeof t.name&&0<t.name.length?e.name:"",from:"user-plugin"},e);a.NativeCallModule.nativeCall.CallNativeFunction("openNewTab",n.url,n?JSON.stringify(n):void 0)},y.prototype.cloLogin=function(){this.onLoginWndClose("close")},y.prototype.saveToXdas=function(e,t,n){a.NativeCallModule.nativeCall.CallNativeFunction("SaveLoginData",e,t,n,(function(e,t){}))},y.prototype.getXdasDatas=function(e,t,n){a.NativeCallModule.nativeCall.CallNativeFunction("LoadLoginData",e,t,(function(e,t){var r=t?JSON.parse(t):null;n&&n(r)}))},y.prototype.getSkinInfo=function(e){var t=this;a.NativeCallModule.nativeCall.CallNativeFunction("GetSkinInfo",(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.getSkinTheme(n[1]);e(o)}))},y.prototype.getSkinTheme=function(e){var t="";if(e&&0!=e.colorID){for(var n=e.colors,r=function(e,n){var r="--"+e.replace(/([A-Z0-9])/g,"-$1").toLowerCase();Array.isArray(n)?n.forEach((function(e,n){t+=r+"-"+(n+1)+": "+e+";"})):t+=r+": "+n+";"},o=0,i=Object.entries(n);o<i.length;o++){var a=i[o];r(a[0],a[1])}e.opacity&&(t+="--default-opacity: "+e.opacity+";"),e.image&&(t+="--background-main: url("+e.image+");")}return t},y.prototype.changeTheme=function(e){var t=window.frames.loginIframe.document.body;t.style=e,t.classList=""==e?"":"is-theme"},y.prototype.fireStatEvent=function(e){a.NativeCallModule.nativeCall.CallNativeFunction("FireLoginEvent","remoteStat",e,(function(e,t){}))},y);window.xdas=b},function(e,t,n){"use strict";var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(56),s=n(57),u=n(58),l=n(55),c=n(84);!function(e){var t,n;(n=t=e.NativeCallErrorCode||(e.NativeCallErrorCode={}))[n.Unknown=-1]="Unknown",n[n.Success=0]="Success",n[n.FunctionNotExist=1]="FunctionNotExist",n[n.ParamaterError=2]="ParamaterError",n[n.CallFailed=3]="CallFailed";var o=(r(f,[{key:"generateId",value:function(){return this.minId===this.maxId?this.invalidId:this.minId++}},{key:"isInvalidId",value:function(e){return e===this.invalidId}}]),f);function f(e,t,n){i(this,f),this.maxId=e,this.minId=t,this.invalidId=n}e.IdGenerator=o,e.idGenerator=new o(1e7,1,0);var d=(r(p,[{key:"CallNativeFunction",value:function(t){for(var n=arguments.length,r=Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];do{if(a.isNullOrUndefined(t)||0===t.length){s.error("funcName is empty");break}s.information("funcName = ",t),this.printArgs(r);for(var i=0,l=0;l<r.length;++l)if(a.isFunction(r[l])){var f=e.idGenerator.generateId(),d=r[l];l===r.length-1?(this.jsReturnCallbacks.set(f,d),i=f,r.pop()):(this.jsCallbacks.set(f,d),r[l]=f)}c.CommonIPCRenderer.rendererCommunicator.sendMessageToRenderer(this.targetCommunitorInfo.id,{name:u.CommonIPCMessage.msgNCCallNativeFunction,args:[t,i].concat(r)})}while(0)}},{key:"AttachNativeEvent",value:function(t,n){var r=void 0;do{if(a.isNullOrUndefined(t)||0===t.length){s.error("eventName is empty");break}if(a.isNullOrUndefined(n)){s.error("callback is empty");break}var o=e.idGenerator.generateId();if(e.idGenerator.isInvalidId(o)){s.error("id error");break}if(this.eventJsCallbakcs.has(t))this.eventJsCallbakcs.get(t).set(o,n);else{var i=new Map;i.set(o,n),this.eventJsCallbakcs.set(t,i)}r=o}while(0);return r}},{key:"DetachNativeEvent",value:function(e,t){do{if(a.isNullOrUndefined(e)||0===e.length){s.error("eventName is empty");break}if(a.isNullOrUndefined(t)){s.error("callback is empty");break}if(!this.eventJsCallbakcs.has(e)){s.error("event: "+e+" doesnot have listener");break}if(!this.eventJsCallbakcs.get(e).has(t)){s.error("event: "+e+" doesnot have the listener of id="+t);break}this.eventJsCallbakcs.get(e).delete(t)}while(0)}},{key:"CheckNativeFunction",value:function(t,n){do{if(a.isNullOrUndefined(t)||0===t.length){s.error("funcName is empty");break}if(a.isNullOrUndefined(n)){s.error("callback is empty");break}s.information("funcName = ",t);var r=e.idGenerator.generateId();this.jsReturnCallbacks.set(r,n),c.CommonIPCRenderer.rendererCommunicator.sendMessageToRenderer(this.targetCommunitorInfo.id,{name:u.CommonIPCMessage.msgNCCheckNativeFunction,args:[t,r]})}while(0)}},{key:"RegisterJSFunction",value:function(e,n){var r=t.ParamaterError;do{if(a.isNullOrUndefined(e)||0===e.length){s.error("funcName is empty");break}if(a.isNullOrUndefined(n)){s.error("jsFunc is empty");break}this.jsRegisterFunctions.set(e,n),r=t.Success}while(0);return r}},{key:"bindMsgListeners",value:function(){var e=this;c.CommonIPCRenderer.rendererCommunicator.onMessage(u.CommonIPCMessage.msgNCCallJsFunctionById,(function(t){e.handleCallJsFunctionById(t.msg.args)})),c.CommonIPCRenderer.rendererCommunicator.onMessage(u.CommonIPCMessage.msgNCCallJsFunctionByName,(function(t){e.handleCallJsFunctionByName(t.msg.args)})),c.CommonIPCRenderer.rendererCommunicator.onMessage(u.CommonIPCMessage.msgNCNativeFireEvent,(function(t){e.handleNativeFireEvent(t.msg.args)}))}},{key:"handleCallJsFunctionById",value:function(t){do{var n=t[0];if(!a.isNumber(n)){s.error("id error id = "+n);break}if(e.idGenerator.isInvalidId(n)){s.error("id = "+n+" invalid");break}var r=null,o=0;if(this.jsCallbacks.has(n)&&(o=1,r=this.jsCallbacks.get(n)),this.jsReturnCallbacks.has(n)&&(o=2,r=this.jsReturnCallbacks.get(n)),0===o){s.error("callbacks["+n+"] is null");break}t.splice(0,1),r.apply(null,t),2===o&&this.jsReturnCallbacks.delete(n)}while(0)}},{key:"handleCallJsFunctionByName",value:function(e){do{var t=e[0];if(!a.isString(t)){s.error("funcName error funcName = "+t);break}if(!this.jsRegisterFunctions.has(t)){s.error("jsRegisterFunctions["+t+"] is null");break}e.splice(0,1),this.jsRegisterFunctions.get(t).apply(null,e)}while(0)}},{key:"handleNativeFireEvent",value:function(e){do{var t=e[0];if(!a.isString(t)){s.warning("eventName error eventName = "+t);break}if(!this.eventJsCallbakcs.has(t)){s.warning("eventJsCallbakcs["+t+"] is null");break}e.shift(),this.eventJsCallbakcs.get(t).forEach((function(t,n,r){s.information("value = "+t+", key = "+n+", map = "+r),a.isNullOrUndefined(t)||t.apply(null,e)}))}while(0)}},{key:"notifyNativeCallReady",value:function(){c.CommonIPCRenderer.rendererCommunicator.sendMessageToRenderer(this.targetCommunitorInfo.id,{name:u.CommonIPCMessage.msgNCNativeCallReady,args:[c.CommonIPCRenderer.rendererCommunicator.getCommunicatorInfo()]})}},{key:"printArgs",value:function(e){for(var t in e)s.information("index "+t+" = ",e[t])}}]),p);function p(){i(this,p),this.jsCallbacks=new Map,this.jsReturnCallbacks=new Map,this.eventJsCallbakcs=new Map,this.jsRegisterFunctions=new Map,this.targetCommunitorInfo=c.CommonIPCRenderer.rendererCommunicator.getCommunicatorInfoByContext(l.CommonIPCBase.mainRendererContext),this.bindMsgListeners(),this.notifyNativeCallReady()}e.NativeCallImpl=d,e.nativeCall=new d}(t.NativeCallModule||(t.NativeCallModule={}))}]);